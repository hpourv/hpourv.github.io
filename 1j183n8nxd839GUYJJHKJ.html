<!DOCTYPE html>
<html>
<head>
    <title>Adjustable Gaussian Noise</title>
</head>
<body>
    <h1>Adjustable Gaussian Noise</h1>
    <input type="file" id="imageInput">
    <br>
    <label for="noiseInput">Noise Intensity (1-1000):</label>
    <input type="number" id="noiseInput" min="1" max="1000" value="1">
    <br>
    <br>
    <button id="resetButton">Reset Image</button>
    <button id="resetNoiseButton">Reset to Original</button>
    <br>

    <canvas id="outputCanvas"></canvas>
    <script>
        let originalImageData = null;
        let currentImageData = null; // Variable to store the current image data
        let currentNoiseLevel = 0;

        function addGaussianNoise(imageData, amount) {
            // ... (rest of the code)
        }

        function resetImageToOriginal() {
            if (originalImageData) {
                const outputCanvas = document.getElementById("outputCanvas");
                const context = outputCanvas.getContext("2d");
                
                context.putImageData(originalImageData, 0, 0);
                currentNoiseLevel = 0;
                currentImageData = originalImageData; // Reset the current image data
            }
        }

        function handleChanges() {
            // ... (rest of the code)
        }

        document.getElementById("imageInput").addEventListener("change", function() {
            const imageInput = document.getElementById("imageInput");
            const img = new Image();
            img.src = URL.createObjectURL(imageInput.files[0]);

            img.onload = function() {
                const outputCanvas = document.getElementById("outputCanvas");
                const context = outputCanvas.getContext("2d");
                outputCanvas.width = img.width;
                outputCanvas.height = img.height;

                context.drawImage(img, 0, 0);
                originalImageData = context.getImageData(0, 0, img.width, img.height);
                currentImageData = originalImageData; // Save the initial image data

                noiseInput.addEventListener("change", function() {
                    // ... (rest of the code)
                });
            };
        });

        document.getElementById("resetButton").addEventListener("click", resetImageToOriginal);
        document.getElementById("resetNoiseButton").addEventListener("click", resetImageToOriginal);
        handleChanges(); // Call it initially to set up the canvas
    </script>
</body>
</html>
